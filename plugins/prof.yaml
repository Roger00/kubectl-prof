apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prof
spec:
  homepage: https://github.com/josepdcs/kubectl-prof
  shortDescription: Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. from pods (Containerd, Cri-o are supported). This is a fork of flame plugin.
  version: "v1.2.2"
  description: |
    Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. without restarting pods and with low overhead. Containerd and Cri-o are supported. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, NodeJS, Clang and Clang++.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_darwin_amd64.tar.gz
      sha256: fe62118e5fe28d05e21e0a91894c7885f4197ede52326230f71a60b56c753544
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_darwin_arm64.tar.gz
      sha256: f8301a61b1b1703cb29b74e6c574bbef680ed5f3aac8a637492624e2fab6c1ef
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_linux_amd64.tar.gz
      sha256: df13c0a970a67ab57026e97a0db4a4a960b5e5e6cd39124b731971f893f594fb
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_linux_arm64.tar.gz
      sha256: d7b87abdb88c0ed339d4dca7c5c80e65e84afd7c7d236c350880a32484c7aacc
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_windows_amd64.zip
      sha256: c1f5b6b09625c4a5fa7f002a5e7d27a05fcb3971572fe8853b1bcdc309cffd0a
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.2/kubectl-prof_1.2.2_windows_arm64.zip
      sha256: c721a01173867cc19953a63620608cf97c07c1470056d4412f3769a03e894e7e
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64

