apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prof
spec:
  homepage: https://github.com/josepdcs/kubectl-prof
  shortDescription: Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. from pods (Containerd, Cri-o are supported). This is a fork of flame plugin.
  version: "v1.2.3"
  description: |
    Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. without restarting pods and with low overhead. Containerd and Cri-o are supported. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, NodeJS, Clang and Clang++.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_darwin_amd64.tar.gz
      sha256: 2c5708fd438cbe5b6e30cb6f86fcd57bc108e725d684f2ca4fa90286ddc883f0
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_darwin_arm64.tar.gz
      sha256: 4354fb716da5555d24a05be7e9594b4b78b688c177d94d2955e228c544dbc4f4
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_linux_amd64.tar.gz
      sha256: fee46bf143929f0fa0cc24e576024413ff1fb4149e411e4b0595b7c0d0ed1cea
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_linux_arm64.tar.gz
      sha256: a30188969eb9f667062430451429da29c451051ed4046d086dea2e16460f6a04
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_windows_amd64.zip
      sha256: 05143407220316dab6f6fcff5f9ecc2eb6e8ca12cf1a17353f943f0f440c8df8
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.3/kubectl-prof_1.2.3_windows_arm64.zip
      sha256: 7f4639da16375f5ad1238160a798da6eb2665b5e46878d376c78a30a0f772f84
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64

